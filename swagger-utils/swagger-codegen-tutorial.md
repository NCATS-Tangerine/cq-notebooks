### Swagger codegen tutorial

A tutorial on setting up autogenerated client code from swagger into a python virtualenv under a specific package name

Make a virtual environment:

    virtualenv -p /usr/bin/python3 ./env
    source env/bin/activate

Create a configuration file to give the client a package name:

    cd env && echo '{
      "packageName":"biolink_client"
    }
    ' >swagger-conf.json

Get the swagger-codegen jar (mac users have a brew option, see the [swagger-codegen docs](https://github.com/swagger-api/swagger-codegen#prerequisites)):

    wget http://central.maven.org/maven2/io/swagger/swagger-codegen-cli/2.2.2/swagger-codegen-cli-2.2.2.jar -O swagger-codegen-cli.jar

Autogenerate the client API (biolink as an example):

    java -jar swagger-codegen-cli.jar generate -i https://api.monarchinitiative.org/api/swagger.json -l python -o ./biolink_client -c ./swagger-conf.json

Build the client API:

    cd ./biolink_client && python ./setup.py install && cd -

The swagger autogenerated API is now installed in the virtual environment

#### Using the client

    import biolink_client
    from biolink_client.api_client import ApiClient
    from biolink_client.rest import ApiException
    import requests

    host = "https://api.monarchinitiative.org/api"
    client = ApiClient(host=host)
    api_instance = biolink_client.BioentityApi(client)
    gene_id = "NCBIGene:6469"

    try:
        api_response = api_instance.get_gene_interactions(gene_id)
    except ApiException as e:
        print("Exception when calling Biolink->get_gene_interactions: %s\n" % e)

    # Or alternatively without the swagger client
    req = requests.get('{}/bioentity/gene/{}/interactions/'.format(host, gene_id))
    response = req.json()
    print(response)
